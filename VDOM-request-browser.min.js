const request=(()=>{function e(e,t,s,n,o){let a,r=new FormData;console.log(e),null!==o&&(void 0!==o.headers&&(a=Object.keys(o.headers)).map(t=>{e.setRequestHeader(t,o.headers[t])}),void 0!==o.contentType&&e.setRequestHeader("Content-type",o.contentType),void 0!==o.json&&"post"===s&&(a=Object.keys(o.json)).map(e=>r.append(e,o.json[e])),(a=Object.keys(o)).map(t=>{"headers"!==t&&"params"!==t&&"contentType"!==t&&"json"!==t&&(e[t]=o[t])})),e.onload=(s=>{let o;try{o=JSON.parse(e.response)}catch(s){o=e.response}"function"==typeof n&&n(!1,o,{statusCode:e.status,href:t.href,headers:e.getAllResponseHeaders(),statusMessage:e.statusText,redirect:()=>{window.location.href=e.responseURL}})}),e.onerror=(s=>{let o;try{o=JSON.parse(e.response)}catch(t){o=e.response}if("function"!=typeof n)throw new Error(s);n(!1,o,{statusCode:e.status,href:t.href,headers:e.getAllResponseHeaders(),statusMessage:e.statusText,redirect:()=>{window.location.href=e.responseURL}})}),e.send(r)}return{get:async function(t,s,n){const o=new XMLHttpRequest;let a;if(t=new URL(t),"function"==typeof s&&(n=s,s=null),null!==s&&void 0!==s.params){a=Object.keys(s.params);const e=new URLSearchParams;a.map(t=>{e.set(t,s.params[t])}),t.search=e.toString()}o.open("get",t.href,!0),e(o,t,"get",n,s)},post:function(t,s,n){const o=new XMLHttpRequest;let a;if(t=new URL(t),new FormData,"function"==typeof s&&(n=s,s=null),null!==s&&void 0!==s.params){a=Object.keys(s.params);const e=new URLSearchParams;a.map(t=>{e.set(t,s.params[t])}),t.search=e.toString()}o.open("post",t.href,!0),e(o,t,"post",n,s)}}})();